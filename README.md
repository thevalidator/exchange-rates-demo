# exchange-rates-demo

ОПИСАНИЕ

Создать сервис, который обращается к сервису курсов валют, и отображает gif:
• если курс по отношению к USD за сегодня стал выше вчерашнего, то отдаем рандомную отсюда https://giphy.com/search/rich
• если ниже - отсюда https://giphy.com/search/broke
Ссылки
• REST API курсов валют - https://docs.openexchangerates.org/
• REST API гифок - https://developers.giphy.com/docs/api#quick-start-guide
Must Have
• Сервис на Spring Boot 2 + Java / Kotlin
• Запросы приходят на HTTP endpoint (должен быть написан в соответствии с rest conventions), туда передается код валюты по отношению с которой сравнивается USD
• Для взаимодействия с внешними сервисами используется Feign
• Все параметры (валюта по отношению к которой смотрится курс, адреса внешних сервисов и т.д.) вынесены в настройки
• На сервис написаны тесты (для мока внешних сервисов можно использовать @mockbean или WireMock)
• Для сборки должен использоваться Gradle
• Результатом выполнения должен быть репо на GitHub с инструкцией по запуску
Nice to Have
• Сборка и запуск Docker контейнера с этим сервисом





• HTTP ENDPOINTS
    
    /api/v1/rates           - возвращает список кодов и наименований доступных валют

    /api/v1/rates/main      - возвращает случайную гиф-анимацию после сравнения основной валюты по отношению к базовой

    /api/v1/rates/XXX       - возвращает случайную гиф-анимацию после сравнения выбранной валюты по отношению к базовой (ХХХ - код валюты)


• ЗАПУСК С ИСПОЛЬЗОВАНИЕМ GRADLE

    - ввести команду из папки проекта:
        
        gradlew bootRun




• СБОРКА И ЗАПУСК DOCKER КОНТЕЙНЕРА

    - создать файл с именем Dockerfile, который содержит инструкции для сборки образа со следующим текстом:

        FROM openjdk:17                                 - основа для создания образа
        ARG JAR_FILE=currency-0.0.1-SNAPSHOT.jar        - задаем переменную JAR_FILE, содержащую путь к jar-архиву currency-0.0.1-SNAPSHOT.jar
        WORKDIR /opt/docker/currency                    - назначается рабочая директория, в которой выполняются дальнейшие команды
        COPY ${JAR_FILE} currency-app.jar               - копируем jar-файл по адресу в JAR_FILE в рабочую директорию и задаем ему имя app.jar
        ENTRYPOINT ["java","-jar","currency-app.jar"]   - запуск jar-файла

    - ввести команду из рабочей директории, с помощью которой собирается образ и запускается контейнер:
    
        build -t spring-docker-currency:0.0.1 .

    - после успешного создания образа запускаем его командой:

        docker run -d -p 8080:8080 -t spring-docker-simple:0.0.1    

        (первое значение номера порта - порт к которому мы будем обращаться для использования сервиса)

        